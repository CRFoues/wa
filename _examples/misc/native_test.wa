# 版权 @2022 凹语言 作者。保留所有权利。

fn main {
  println("您好，凹语言！\nHello, wa-lang!")
  println("幸运整数：", test_calc1(6, 9, 8), ", ", 5, ", ", test_calc5(6, 9, 8))
  println("幸运浮点数：", 5.44, ", ", test_calc3(6, 9, 8))

  test_cmp0(20, 19)
  test_cmp0(20, 20)
  test_cmp1(-3, -3)
  test_cmp1(-3, -4)
  test_cmp2(10, 10)
  test_cmp2(10, 10.0001)

  test_jmp(4)
  test_loop0(10)
  test_loop1(10, 10)

  test_array(2, 4)
  test_array(7, 9)

  bye()
}

fn bye() {
  println("再见！\nbye!")
}

fn test_calc0(a: i32, b: i32, c: i32) i32 {
  return (-a) * 5 / (b - c + 2)
}

fn test_calc1(a: i32, b: i32, c: i32) i32 {
  return test_calc0(a, b, c)
}

fn test_calc2(a: float64, b: float64, c: float64) float64 {
  return (-a) * 5 / (b - c + 2)
}

fn test_calc3(a: float64, b: float64, c: float64) float64 {
  return test_calc2(a, b, c)
}

fn test_calc4(a: u16, b: u16, c: u16) u16 {
  return (-a) * 5 / (b - c + 2)
}

fn test_calc5(a: u16, b: u16, c: u16) u16 {
  return test_calc4(-a, b, c)
}

fn test_cmp0(a: u16, b: u16) {
  if a > b {
    println(a, " >  ", b)
  } else {
    println(a, " <= ", b)
  }
}

fn test_cmp1(a: i64, b: i64) {
  if a <= b {
    println(a, " <= ", b)
  } else {
    println(a, " >  ", b)
  }
}

fn test_cmp2(a: float64, b: float64) {
  if a != b {
    println(a, " != ", b)
  } else {
    println(a, " == ", b)
  }
}

fn test_jmp(a: i32) {
  for {
    if a > 10 {
      return
    }
    println(a)
    a++
  }
}

fn test_loop0(a: i16) {
  for i := i16(0); i < a; i++ {
    println(i, " * ", i, " = ", i * i)
  }
}

fn test_loop1(a: u64, b: u64) {
  for i := u64(0); i < a; i++ {
    for j := u64(0); j < b; j++ {
      println(i, " * ", j, " = ", i * j)
    }
  }
}

fn test_array(a: int, b: int) {
  var arr [10][10]int
  for i := 0; i < 10; i++ {
    for j := 0; j < 10; j++ {
      arr[i][j] = i * j
    }
  }

  println("arr[", a, "][", b, "] = ", arr[a][b])
  println("arr[", b, "][", a, "] = ", arr[b][a])
}
